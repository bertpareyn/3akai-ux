casper.test.comment('Footer');

var verifyFooter = function() {
    // Verify that the footer exists on the page
    casper.test.assertExists('#footer-container', 'The footer exists on the page');
    // Verify that the footer has a link
    casper.test.assertExists('#footer-container a[href="http://apereo.org/"]', 'The footer has a link to the Apereo website');
    // Verify that the footer link opens in a new tab
    casper.test.assertExists('#footer-container a[href="http://apereo.org/"][target="_blank"]', 'The footer link opens in a new tab');
};

casper.start('http://cam.oae.com', function() {
    // Verify that the footer is showing
    casper.then(function() {
        casper.echo('Verify that the footer shows on the page', 'INFO');
        casper.waitForSelector('#footer-container', verifyFooter);
    });
});

casper.run(function() {
    this.test.done();
});
